<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lyrika</title>
  <link href="lib/bootstrap/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/popup.css">
</head>

<body>
  <div class="container">
    <header>
      <div class="logo-container">
        <img src="assets/icons/icon48.png" alt="Lyrika Logo" class="header-logo">
        <h1>LYRIKA</h1>
      </div>
    </header>

    <!-- Initial State -->
    <div id="initial-state">
      <button id="start-listening" class="primary-button">Identify Song</button>
      <p class="instruction">Click to identify the song playing in this tab</p>
    </div>

    <!-- Listening State -->
    <div id="listening-state" class="hidden text-center">
      <div class="listening-animation">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
      </div>
      <p>Listening...</p>
      <p>Audio will become silent for 5 seconds</p>
    </div>

    <!-- Results State -->
    <div id="results-state" class="hidden">
      <div class="song-info-container">
        <!-- Album Artwork -->
        <div class="album-artwork-container">
          <img id="album-artwork" src="assets/icons/icon128.png" alt="Album Artwork">
        </div>
        
        <!-- Song Info -->
        <div class="song-info">
          <h2 id="song-title" class="copyable" title="Click to copy">Enchanted</h2>
          <p id="artist">Taylor Swift</p>
          
          <!-- Platform Links -->
          <div class="platform-links">
            <a id="youtube-link" class="platform-link youtube-link" href="#" title="Open in YouTube">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-youtube" viewBox="0 0 16 16">
                <path d="M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.01 2.01 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.01 2.01 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31 31 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.01 2.01 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A100 100 0 0 1 7.858 2zM6.4 5.209v4.818l4.157-2.408z"/>
              </svg>
            </a>
            <a id="spotify-link" class="platform-link spotify-link" href="#" title="Open in Spotify">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-spotify" viewBox="0 0 16 16">
                <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0m3.669 11.538a.5.5 0 0 1-.686.165c-1.879-1.147-4.243-1.407-7.028-.77a.499.499 0 0 1-.222-.973c3.048-.696 5.662-.397 7.77.892a.5.5 0 0 1 .166.686m.979-2.178a.624.624 0 0 1-.858.205c-2.15-1.321-5.428-1.704-7.972-.932a.625.625 0 0 1-.362-1.194c2.905-.881 6.517-.454 8.986 1.063a.624.624 0 0 1 .206.858m.084-2.268C10.154 5.56 5.9 5.419 3.438 6.166a.748.748 0 1 1-.434-1.432c2.825-.857 7.523-.692 10.492 1.07a.747.747 0 1 1-.764 1.288"/>
              </svg>
            </a>
            <a id="apple-music-link" class="platform-link apple-music-link hidden" href="#" title="Open in Apple Music">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-music-note-beamed" viewBox="0 0 16 16">
                <path d="M6 13c0 1.105-1.12 2-2.5 2S1 14.105 1 13c0-1.104 1.12-2 2.5-2s2.5.896 2.5 2m9-2c0 1.105-1.12 2-2.5 2s-2.5-.895-2.5-2 1.12-2 2.5-2 2.5.895 2.5 2"/>
                <path fill-rule="evenodd" d="M14 11V2h1v9zM6 3v10H5V3z"/>
                <path d="M5 2.905a1 1 0 0 1 .9-.995l8-.8a1 1 0 0 1 1.1.995V3L5 4z"/>
              </svg>
            </a>
          </div>
        </div>
      </div>

      <button id="back-button" class="secondary-button mt-3">Identify Another Song</button>
      
      <!-- Enhancement Tabs -->
      <ul class="nav nav-tabs mt-3" id="lyrikaTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="lyrics-tab" data-bs-toggle="tab" data-bs-target="#lyrics-content" type="button" role="tab" aria-controls="lyrics-content" aria-selected="true">Lyrics</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="recommendations-tab" data-bs-toggle="tab" data-bs-target="#recommendations-content" type="button" role="tab" aria-controls="recommendations-content" aria-selected="false">Similar Songs</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="search-tab" data-bs-toggle="tab" data-bs-target="#search-content" type="button" role="tab" aria-controls="search-content" aria-selected="false">Search</button>
        </li>
      </ul>
      
      <div class="tab-content mt-2">
        <!-- Lyrics Tab -->
        <div class="tab-pane fade show active" id="lyrics-content" role="tabpanel" aria-labelledby="lyrics-tab">
          <div class="lyrics-header d-flex justify-content-between align-items-center">
            <h3>Lyrics</h3>
            <div class="dropdown">
              <button class="spotify-button dropdown-toggle" type="button" id="translateDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                Translate
              </button>
              <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="translateDropdown">
                <li><a class="dropdown-item translate-option" href="#" data-lang="original">Original</a></li>
                <li><a class="dropdown-item translate-option" href="#" data-lang="Spanish">Spanish</a></li>
                <li><a class="dropdown-item translate-option" href="#" data-lang="French">French</a></li>
                <li><a class="dropdown-item translate-option" href="#" data-lang="German">German</a></li>
                <li><a class="dropdown-item translate-option" href="#" data-lang="Japanese">Japanese</a></li>
                <li><a class="dropdown-item translate-option" href="#" data-lang="Korean">Korean</a></li>
              </ul>
            </div>
          </div>
          
          <div class="lyrics-container">
            <div id="lyrics">lorem ipsum dolor sit amet, consectetur adipiscing elit.</div>
            <div id="lyrics-loading" class="text-center p-3 hidden">
              <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
              </div>
              <p class="mt-2">Translating lyrics...</p>
            </div>
          </div>
        </div>
        
        <!-- Recommendations Tab -->
        <div class="tab-pane fade" id="recommendations-content" role="tabpanel" aria-labelledby="recommendations-tab">
          <h3>Similar Songs</h3>
          <div class="recommendations-container">
            <div id="recommendations-list">
              <div id="recommendations-placeholder">
                <p>Find more songs like this one.</p>
                <button id="get-recommendations" class="spotify-button">Get Recommendations</button>
              </div>
            </div>
            <div id="recommendations-loading" class="text-center p-3 hidden">
              <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
              </div>
              <p class="mt-2">Finding similar songs...</p>
            </div>
          </div>
        </div>
        
        <!-- Search Tab -->
        <div class="tab-pane fade" id="search-content" role="tabpanel" aria-labelledby="search-tab">
          <h3>Manual Search</h3>
          <div class="search-container">
            <p>Couldn't identify the song?</p>
            <p>Enter details manually:</p>
            <div class="manual-search-form">
              <div class="custom-input-group">
                <input type="text" id="manual-song" placeholder="Song Title">
                <div id="song-error" class="error-message hidden">Please enter a song title</div>
              </div>
              <div class="custom-input-group">
                <input type="text" id="manual-artist" placeholder="Artist">
                <div id="artist-error" class="error-message hidden">Please enter an artist name</div>
              </div>
              <button id="manual-search" class="primary-button">Search Lyrics</button>
            </div>
            <div id="search-loading" class="text-center p-3 hidden">
              <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
              </div>
              <p class="mt-2">Searching for lyrics...</p>
            </div>
            
            <!-- Search Results -->
            <div id="search-results" class="hidden mt-4">
              <div class="search-result-header d-flex justify-content-between align-items-center">
                <h4 id="search-result-title">Song Title</h4>
                <p id="search-result-artist">Artist</p>
              </div>
              <div class="lyrics-container">
                <div id="search-result-lyrics"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
    </div>

    <!-- Error State -->
    <div id="error-state" class="hidden">
      <p id="error-message"></p>
      <button id="try-again" class="primary-button">Try Again</button>
    </div>

    <footer>
      <p>Using ACRCloud for song identification â€¢ Powered by Gemini</p>
    </footer>
  </div>
  <script src="lib/bootstrap/bootstrap.bundle.min.js"></script>
  <script src="js/popup.js"></script>
</body>

</html>